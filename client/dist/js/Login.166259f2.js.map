{"version":3,"sources":["webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?f1df","webpack:///./src/views/Login.vue?fea2"],"names":["setup","router","store","handleSubmit","loginUser","email","password","dispatch","push","name","statusCode","response","data","fire","icon","title","emailError","errorMessage","value","passwordError","render","__scopeId"],"mappings":"4PAAK,MAAM,O,GAAW,MAAM,2F,GAA+F,MAAM,oC,EAAmC,eAA2D,MAAvD,MAAM,gBAAgB,eAAa,SAAQ,WAAO,G,GAAoL,MAAM,MAAM,eAAa,qB,GAA2K,MAAM,MAAM,eAAa,wB,GAAqD,MAAM,Y,EAAW,eAA4F,OAAvF,MAAM,sCAAoC,CAAC,eAAsC,UAA9B,MAAM,UAAS,Y,MAA0B,MAAM,sC,EAAqC,eAAoC,KAAjC,MAAM,QAAO,oBAAgB,G,EAA71B,eAA66B,gB,GAAkD,MAAM,gB,EAAr+B,eAAu/B,yB,EAAv/B,eAAgmC,uB,4GAAhmC,eAA6pC,MAA7pC,EAA6pC,CAA5oC,eAAsoC,MAAtoC,EAAsoC,CAAjiC,eAA2hC,MAA3hC,EAA2hC,CAA7+B,EAA2D,eAA2vB,QAArvB,eAAa,aAAc,SAAM,YAAtQ,kCAAgR,iCAAS,e,gBAAE,eAA8G,SAAvG,MAAM,QAAQ,KAAK,OAAO,YAAY,gBAAxU,qDAAiW,QAAK,IAAE,eAAa,qB,mBAApB,WAAwC,eAAwE,MAAxE,EAAwE,eAAnB,cAAU,G,eAAS,eAA4H,SAArH,MAAM,iBAAiB,KAAK,WAAW,YAAY,WAA3gB,qDAA+hB,WAAQ,IAAE,eAAa,wB,mBAAvB,cAA8C,eAA8E,MAA9E,EAA8E,eAAtB,iBAAa,GAAS,eAAwT,MAAxT,EAAwT,CAAlS,EAA4F,eAAgM,MAAhM,EAAgM,CAAhJ,EAAoC,eAAsG,GAAzF,MAAM,oBAAqB,GAAI,mB,CAA74B,WAA66B,iBAAY,CAAz7B,iB,IAA09B,eAAiL,MAAjL,EAAiL,CAAvJ,eAAiJ,UAAroC,EAA4gC,eAAqH,GAAxG,MAAM,sBAAuB,GAAI,yB,CAA1jC,WAAgmC,iBAAmB,CAAnnC,yB,oFAqCe,GACbA,MADa,WAEG,iBAAd,IACMC,EAAS,iBACTC,EAAQ,iBACd,EAAyB,iBAAjBC,EAAR,EAAQA,aAEFC,EAAYD,EAAY,yDAAC,gHAASE,EAAT,EAASA,MAAOC,EAAhB,EAAgBA,SAAhB,kBAErBJ,EAAMK,SAAS,YAAa,CAChCF,QACAC,aAJyB,OAM3BL,EAAOO,KAAK,CAAEC,KAAM,aANO,mDAQrBC,EAAa,KAAMC,SAASC,KAAKF,WACrB,OAAdA,EACF,OAAMG,KAAK,CACTC,KAAM,OACNC,MAAO,KAAMJ,SAASC,OAGxB,OAAMC,KAAK,CACTC,KAAM,QACNC,MAAO,KAAMJ,SAASC,OAjBC,yDAAD,uDAuB9B,EAAmD,eACjD,QACA,QAFoBI,EAAtB,EAAQC,aAAiCZ,EAAzC,EAAkCa,MAKlC,EAAyD,eACvD,WACA,QAFoBC,EAAtB,EAAQF,aAAoCX,EAA5C,EAAqCY,MAKrC,MAAO,CACLb,QACAW,aACAV,WACAa,gBACAf,e,UC7EN,EAAOgB,OAAS,EAChB,EAAOC,UAAY,kBAEJ,gB,kCCRf","file":"js/Login.166259f2.js","sourcesContent":["<template lang=\"pug\">\n.row\n  .col-10.offset-1.col-sm-8.offset-sm-2.col-md-6.offset-md-3.col-xl-4.offset-xl-4.px-xxl-5\n    .center-container.mx-lg-5.mx-xl-0\n      h3.h3.title.pb-3(data-test-id='title') Sign In\n      form(data-test-id='login-form', @submit.prevent='loginUser')\n        input.input(\n          type='text',\n          placeholder='Email address',\n          v-model='email',\n          data-test-id='login-email-input'\n        )\n        .red(data-test-id='login-email-error') {{ emailError }}\n        input.input.input-mt(\n          type='password',\n          placeholder='Password',\n          v-model='password',\n          data-test-id='login-password-input'\n        )\n        .red(data-test-id='login-password-error') {{ passwordError }}\n        .row.pt-5\n          .col-sm-6.text-center.text-sm-start\n            button.button Log in\n          .col-sm-6.text-center.text-sm-start\n            p.mb-0 New around here?\n            router-link.register-now-link(:to='{ name: \"Register\" }') Register now\n      .form-message\n        p Forgot your password?\n          router-link.reset-password-link(:to='{ name: \"ForgotPassword\" }') Reset your password\n</template>\n\n<script>\nimport { useField, useForm } from 'vee-validate';\nimport { useRoute, useRouter } from 'vue-router';\nimport { useStore } from 'vuex';\nimport { emailValidation, passwordValidation } from '../utils/validations';\nimport { Toast } from '../utils/toastAlert';\nexport default {\n  setup() {\n    const route = useRoute();\n    const router = useRouter();\n    const store = useStore();\n    const { handleSubmit } = useForm();\n\n    const loginUser = handleSubmit(async ({ email, password }) => {\n      try {\n        await store.dispatch('loginUser', {\n          email,\n          password\n        });\n        router.push({ name: 'HomePage' });\n      } catch (error) {\n        const statusCode = error.response.data.statusCode;\n        if (statusCode == '409') {\n          Toast.fire({\n            icon: 'info',\n            title: error.response.data\n          });\n        } else {\n          Toast.fire({\n            icon: 'error',\n            title: error.response.data\n          });\n        }\n      }\n    });\n\n    const { errorMessage: emailError, value: email } = useField(\n      'email',\n      emailValidation\n    );\n\n    const { errorMessage: passwordError, value: password } = useField(\n      'password',\n      passwordValidation\n    );\n\n    return {\n      email,\n      emailError,\n      password,\n      passwordError,\n      loginUser\n    };\n  }\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n\n@require \"../assets/styles/colors.styl\"\n\n.reset-password-link, .register-now-link\n  color: $primary-purple !important\n\n</style>\n","import { render } from \"./Login.vue?vue&type=template&id=5288f646&scoped=true&lang=pug\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=5288f646&lang=stylus&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-5288f646\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Login.vue?vue&type=style&index=0&id=5288f646&lang=stylus&scoped=true\""],"sourceRoot":""}