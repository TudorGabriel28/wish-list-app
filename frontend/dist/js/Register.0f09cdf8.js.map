{"version":3,"sources":["webpack:///./src/views/Register.vue","webpack:///./src/views/Register.vue?cea8","webpack:///./src/services/accountService.js","webpack:///./src/views/Register.vue?7468"],"names":["setup","nickname","handleSubmit","firstNameError","errorMessage","firstName","value","lastNameError","lastName","emailError","email","passwordError","password","confirmPasswordError","confirmPassword","registerAccount","accountService","fire","icon","title","render","__scopeId","AccountService","credentials","apiClient","post","get","users","accountId","accountData","put","delete"],"mappings":"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","file":"js/Register.0f09cdf8.js","sourcesContent":["<template lang=\"pug\">\n.row.align-items-center\n  .col-10.offset-1.col-sm-8.offset-sm-2.col-md-6.offset-md-3.col-xl-4.offset-xl-4.px-xxl-5\n    .center-container.mx-lg-5.mx-xl-0\n      h3.h3.title(data-test-id='title') Sign Up\n      form(@submit.prevent='registerAccount')\n        input.input(\n          type='text',\n          placeholder='First Name',\n          v-model='firstName',\n          data-test-id='register-first-name-input'\n        )\n        span.red(data-test-id='register-first-name-error') {{ firstNameError }}\n        input.input.input-mt(\n          type='text',\n          placeholder='Last Name',\n          v-model='lastName',\n          data-test-id='register-last-name-input'\n        )\n        span.red(data-test-id='register-last-name-error') {{ lastNameError }}\n        input.input.input-mt(\n          type='text',\n          placeholder='Nickname',\n          v-model='nickname',\n          data-test-id='register-nickname-input'\n        )\n        input.input.input-mt(\n          type='text',\n          placeholder='Email address',\n          v-model='email',\n          data-test-id='register-email-input'\n        )\n        span.red(data-test-id='register-email-error') {{ emailError }}\n        input.input.input-mt(\n          type='password',\n          placeholder='Password',\n          v-model='password',\n          data-test-id='register-password-input'\n        )\n        span.red(data-test-id='register-password-error') {{ passwordError }}\n        input.input.input-mt(\n          type='password',\n          placeholder='Confirm password',\n          v-model='confirmPassword',\n          data-test-id='register-confirm-password-input'\n        )\n        span.red(data-test-id='register-confirm-password-error') {{ confirmPasswordError }}\n        .pt-5\n          button.button(type='submit') Sign Up\n      .form-message\n        p Already signed up? Use your email and password to\n          router-link.log-in-link(:to='{ name: \"Login\" }') log in\n</template>\n\n<script>\nimport { ref } from 'vue';\nimport { accountService } from '../services/accountService';\nimport { useField, useForm } from 'vee-validate';\nimport {\n  nameValidation,\n  emailValidation,\n  passwordValidation\n} from '../utils/validations';\nimport { Toast } from '../utils/toastAlert';\n\nexport default {\n  setup() {\n    const nickname = ref('');\n    const { handleSubmit } = useForm();\n\n    const { errorMessage: firstNameError, value: firstName } = useField(\n      'firstName',\n      nameValidation\n    );\n    const { errorMessage: lastNameError, value: lastName } = useField(\n      'lastName',\n      nameValidation\n    );\n    const { errorMessage: emailError, value: email } = useField(\n      'email',\n      emailValidation\n    );\n    const { errorMessage: passwordError, value: password } = useField(\n      'password',\n      passwordValidation\n    );\n\n    const { errorMessage: confirmPasswordError, value: confirmPassword } =\n      useField('confirmPassword', function (value) {\n        if (value !== password.value) {\n          return 'Passwords are not the same.';\n        }\n        return true;\n      });\n\n    const registerAccount = handleSubmit(\n      async ({ firstName, lastName, email, password }) => {\n        try {\n          await accountService.registerAccount({\n            firstName,\n            lastName,\n            nickname: nickname.value,\n            email,\n            password\n          });\n\n          Toast.fire({\n            icon: 'success',\n            title: 'Register complete'\n          });\n        } catch (error) {\n          Toast.fire({\n            icon: 'error',\n            title: 'Something went wrong'\n          });\n        }\n      }\n    );\n\n    return {\n      registerAccount,\n      firstName,\n      lastName,\n      nickname,\n      email,\n      password,\n      confirmPassword,\n      firstNameError,\n      lastNameError,\n      emailError,\n      passwordError,\n      confirmPasswordError\n    };\n  }\n};\n</script>\n<style lang=\"stylus\" scoped>\n@require \"../assets/styles/colors.styl\"\n\n.log-in-link\n  color: $primary-purple !important\n\n</style>\n","import { render } from \"./Register.vue?vue&type=template&id=48ac819c&scoped=true&lang=pug\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=48ac819c&lang=stylus&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-48ac819c\"\n\nexport default script","import { apiClient } from '../utils/apiClient';\n\nclass AccountService {\n  async authenticate(credentials) {\n    return await apiClient.post('/account/authenticate', credentials);\n  }\n  async registerAccount(credentials) {\n    await apiClient.post('/account/', credentials);\n  }\n\n  async getAllAccounts() {\n    const users = await apiClient.get('/account/');\n    return users;\n  }\n\n  async getAccount(accountId) {\n    return await apiClient.get(`/account/${accountId}`);\n  }\n\n  async editAccount(accountData) {\n    return await apiClient.put('/account/', accountData);\n  }\n\n  async deleteAccount() {\n    await apiClient.delete('/account/');\n  }\n\n  async activateAccount(accountId) {\n    await apiClient.get(`/account/verify-email/${accountId}`);\n  }\n\n}\n\nexport const accountService = new AccountService();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Register.vue?vue&type=style&index=0&id=48ac819c&lang=stylus&scoped=true\""],"sourceRoot":""}